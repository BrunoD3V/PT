@using System.Collections
@using System.Drawing
@using Jmelosegui.Mvc.GoogleMap
@using PTurismo.Helpers
@using System.Web.Script.Serialization
@using PTurismo.Models
@model PTurismo.Models.Poi

@Scripts.Render("~/Scripts/script.js")

@{
    ViewBag.Title = "Poi";
}

<!-- Button trigger modal -->
<!-- Modal -->
<div class="modal fade" id="helpModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h3 class="modal-title" id="myModalLabel">Help - Ajuda</h3>
            </div>
            <div class="modal-body">
                <img src="~/Content/Images/Logo/Logo1.png" />
                <img src="~/Content/Images/Logo/Logo2.png" />
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-success btn-block" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<!--INICIO DA PAGINA-->
<div class="row">
    <div class="col-md-offset-4">
        <button class="btn btn-sm btn-danger" onclick="@("window.location.href='" + @Url.Action("Index", "Home") + "'");"><span class="glyphicon glyphicon-arrow-left"></span> Voltar ao Inicio</button>
    </div>
</div>
<div class="row">
    <div class="col-md-2">

    </div>
    <div class="col-md-5 text-right">
        <div class="thumbnail">
            <div class="col-md-12">
                <!--MUDAR IMAGEM-->
                <img class="img-poi" src="~/Content/Images/Logo/Logo1.png" />
            </div>
            <div class="col-md-12">
                <!-- CONTEUDO A ESCREVER -->
                <img id="ImagemPath" class="img-poi" src="~/Content/Images/GaleriaPoi/Imagem/@Model.ImagemPath" />
            </div>
        </div>
    </div>
    <div class="col-md-5 text-right">
        <button type="button" class="btn btn-warning btn-lg" data-toggle="modal" data-target="#helpModal"><span class="glyphicon glyphicon-question-sign black-color"></span></button>
    </div>
</div>

<div class="row row-poi">
    <div id="mapa-margin" class="col-md-4">
        <div class="row">
            @if (Model.categoria.genero.Equals("Masculino"))
            {
                <h3 id="Genero">Descobrir cada pormenor deste @Model.categoria.nome</h3>
            }
            else
            {
                <h3 id="Genero">Descobrir cada pormenor desta @Model.categoria.nome</h3>
            }

        </div>
        <div class="row row-scroll">
           @foreach (var item in Model.elementos)
           {
            <a href="#" class="thumbnail">
                <div class="col-md-4">
                    <!--MUDAR IMAGEM-->
                    <img id="ImagemEle1" class="img-thumbnail" src="~/Content/Images/GaleriaElemento/Imagem/@item.ImagemElemento" alt="Generic placeholder thumbnail" />
                </div>
                <div class="col-md-8">
                    <h4>Nome: </h4>
                    <h5>@item.nome</h5>
                    <h6>Descrição: @item.descricao</h6>
                </div>
            </a>
           }
         </div>
    </div>
    <div id="dataShow" class="col-md-8">
        <div class="row">
            <h1 id="NomePoi">@Model.nome</h1>
        </div>
        <div class="row">
            <!--DESCRICAO-->
            <div id="showDescricao" >
                <h4 id="Descricao">@Model.descricao</h4>
            </div>
            <!--CAROUSEL-->
            <div id="showCarousel" style="display: none;">
                
                <div id="myCarousel" class="carousel slide" data-ride="carousel">
                    <!-- Indicators -->
                    <ol class="carousel-indicators">
                        <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                        <li data-target="#myCarousel" data-slide-to="1"></li>
                        <li data-target="#myCarousel" data-slide-to="2"></li>
                        <li data-target="#myCarousel" data-slide-to="3"></li>
                    </ol>

                    <!-- Wrapper for slides -->
                    <div class="carousel-inner" role="listbox">
                        <div class="item active">
                            <img src="http://ffden-2.phys.uaf.edu/webproj/212_spring_2014/Jessica_Garvin/jessica_garvin/Images/carousel.jpg" alt="Chania" width="460" height="345">
                        </div>

                        <div class="item">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/6/65/Carousel_at_Hyde_Park.jpg" alt="Chania" width="460" height="345">
                        </div>

                        <div class="item">
                            <img src="https://teachingplus.files.wordpress.com/2013/09/carousel.jpg" alt="Flower" width="460" height="345">
                        </div>

                        <div class="item">
                            <img src="http://janescarousel.com/assets/janes-carousel-events-slider-photo-shoots.jpg" alt="Flower" width="460" height="345">
                        </div>
                    </div>

                    <!-- Left and right controls -->
                    <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
                        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
                        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>

                <!--FIM CAROUSEL-->
            </div>
            <!--VIDEO-->
            <div id="showVideo" align="center" class="embed-responsive embed-responsive-16by9" style="display: none">
                <video controls class="embed-responsive-item">
                    <source src=http://techslides.com/demos/sample-videos/small.mp4 type=video/mp4>
                </video>
            </div>

            <div id="showAudio" align="center" style="display:none">
                <div class="row">
                    <h3>Por favor coloque os auriculares para ouvir a descrição.</h3>
                </div>
                <div class="row">
                    <img src="~/Content/Audio/audio.png" alt="Audio" width="250" height="250"/>
                </div>
                <div class="row">
                    <article class="audio">
                        <audio controls>
                            <source src="~/Content/Audio/BUSH.mp3" type="audio/mp3" />
                            <p>Your browser does not support HTML 5 audio element</p>
                        </audio>
                    </article>
                </div>
                <div class="row">
                    <h3>Obrigado.</h3>
                </div>
            </div>
        </div>
        <div class="row bottom-poi">
            <div class="col-md-3">
                <button id="btnDescricao" class="btn btn-lg btn-success buttons-poi">Descrição <span class="glyphicon glyphicon-modal-window"></span></button>
            </div>
            <div class="col-md-3">
                <button id="btnFotografias" class="btn btn-lg btn-success buttons-poi">Fotografias <span class="glyphicon glyphicon-camera"></span></button>
            </div>
            <div class="col-md-3">
                <button id="btnAudio" class="btn btn-lg btn-success buttons-poi">Áudio <span class="glyphicon glyphicon-music"></span></button>
            </div>
            <div class="col-md-3">
                <button id="btnVideo" class="btn btn-lg btn-success buttons-poi">Videos <span class="glyphicon glyphicon-facetime-video"></span></button>
            </div>
        </div>
    </div>
</div>
<div id="screenSaverForm" style="background-image: url(../../Content/Images/BodyBackground/screensaver.png); position: absolute; width: 100%; height:100%; left:0px; top: 0px; right: 0px; bottom: 0px; z-index:9999; display: none;"></div>

@section scripts
{
    <script type="text/javascript">
        /*
        $.ajax({
            type: "GET",
            url: "Home/Poi/1",
            data: "",
            success: function (html) {
                $("#myAccountDiv").html(html);
            }
        });
        */
        //JQUERY PARA MODAL HELP
        $('#myModal').on('shown.bs.modal', function () {
            $('#myInput').focus()
        })
        //FIM

        //JQUERY BUTTONS

        $('#btnDescricao').click(function (e) {
            $("#showDescricao").delay(100).fadeIn(100);
            $("#showCarousel").fadeOut(100);
            $("#showAudio").fadeOut(100);
            $("#showVideo").fadeOut(100);
            $('#btnFotografias').removeClass('active');
            $('#btnAudio').removeClass('active');
            $('#btnVideo').removeClass('active');
            $(this).addClass('active');
            e.preventDefault();
        });

        $('#btnFotografias').click(function (e) {
            $("#showCarousel").delay(100).fadeIn(100);
            $("#showAudio").fadeOut(100);
            $("#showDescricao").fadeOut(100);
            $("#showVideo").fadeOut(100);
            $('#btnAudio').removeClass('active');
            $('#btnVideo').removeClass('active');
            $('#btnDescricao').removeClass('active');
            $(this).addClass('active');
            e.preventDefault();
        });

        $('#btnAudio').click(function (e) {
            $("#showAudio").delay(100).fadeIn(100);
            $("#showVideo").fadeOut(100);
            $("#showCarousel").fadeOut(100);
            $("#showDescricao").fadeOut(100);
            $('#btnVideo').removeClass('active');
            $('#btnDescricao').removeClass('active');
            $('#btnFotografias').removeClass('active');
            $(this).addClass('active');
            e.preventDefault();
        });

        $('#btnVideo').click(function (e) {
            $("#showVideo").delay(100).fadeIn(100);
            $("#showCarousel").fadeOut(100);
            $("#showDescricao").fadeOut(100);
            $("#showAudio").fadeOut(100);
            $('#btnDescricao').removeClass('active');
            $('#btnFotografias').removeClass('active');
            $('#btnAudio').removeClass('active');
            $(this).addClass('active');
        });
        //FIM J QUERY BUTTONS
        var mousetimeout;
        var screensaver_active = false;
        var idletime = 5;

        var screenSaver = $("#screenSaverForm");
        var formDiv = $("#bodyForm");

        function show_screensaver() {
            formDiv.fadeOut(100);
            screenSaver.fadeIn(900);
            screensaver_active = true;
        }

        function stop_screensaver() {
            screenSaver.fadeOut(100);
            formDiv.fadeIn(900);
            screensaver_active = false;
        }

        $(document).mousemove(function () {
            clearTimeout(mousetimeout);

            if (screensaver_active) {
                stop_screensaver();
            }

            mousetimeout = setTimeout(function () {
                show_screensaver();
            }, 1000 * idletime); // 5 secs          
        });


    </script>
        
}